<Window x:Class="USB_DAQ.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"     
        xmlns:d3="http://research.microsoft.com/DynamicDataDisplay/1.0"
        xmlns:ext="clr-namespace:USB_DAQ.Extension"   
        mc:Ignorable="d"
        Title="SDHCAL_DAQ_USB" Height="636.833" Width="900.167" Closing="Window_Closing">
    <Window.Resources>
        <Style x:Key="ButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="DarkGreen"/>
        </Style>
        <Style x:Key="TextStyle" TargetType="Control">
            <Setter Property="Foreground" Value="LightPink"/>
        </Style>
        <Style x:Key="DataItemCheckListBoxStyle"
           TargetType="{x:Type ListBox}"
           BasedOn="{StaticResource {x:Type ListBox}}">
            <Setter Property="ItemTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <TextBlock Text="{Binding Name}"/>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="ItemContainerStyle">
                <Setter.Value>
                    <Style TargetType="{x:Type ListBoxItem}"
                 BasedOn="{StaticResource CheckListBoxItemContainerStyle}">
                        <Setter Property="IsSelected"
                    Value="{Binding IsEnabled}"/>
                        <Setter Property="Margin" Value="2,2,0,0"/>
                    </Style>
                </Setter.Value>
            </Setter>
            <Setter Property="SelectionMode" Value="Multiple"/>
        </Style>
        <RadialGradientBrush x:Key="ChartPlotterBrush" GradientOrigin="0.6,0.5">
            <GradientStop Color="White" Offset="0"/>
            <GradientStop Color="#FFEDFFFB" Offset="1"/>
        </RadialGradientBrush>
    </Window.Resources>
    <Grid Margin="10,0,2,0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Label x:Name="label" Content="Message" HorizontalAlignment="Left" Margin="88,10,0,0" VerticalAlignment="Top"/>
        <GroupBox x:Name="gbxUSBStatus" Header="Status" HorizontalAlignment="Left" Margin="624,32,0,0" VerticalAlignment="Top" Height="57" Width="189">
            <Label x:Name="usb_status" Content="USB device not connected" HorizontalAlignment="Left" Height="24" Margin="9,2,0,0" VerticalAlignment="Top" Width="160" Background="Transparent" />
        </GroupBox>
        <Button x:Name="btnCommandSend" Content="CommandSend" HorizontalAlignment="Left" Margin="712,98,0,0" VerticalAlignment="Top" Width="102" Height="22" Click="btnCommandSend_Click"/>
        <TextBox x:Name="txtCommand" HorizontalAlignment="Left" Height="22" Margin="626,99,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="78" IsEnabled="False"/>
        <TextBox x:Name="txtReport" HorizontalAlignment="Left" Height="494" Margin="22,36,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Width="199" IsReadOnlyCaretVisible="True" IsUndoEnabled="False" IsReadOnly="True"
                 ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto"
                 ScrollViewer.CanContentScroll="True">
        </TextBox>
        <Button x:Name="btnClearReport" Content="Clear" HorizontalAlignment="Left" Margin="83,545,0,0" VerticalAlignment="Top" Width="73" Click="btnClearReport_Click" Height="21"/>
        <GroupBox x:Name="gbxFile" Header="File operations" HorizontalAlignment="Left" Height="85" Margin="259,504,0,0" VerticalAlignment="Top" Width="556">
            <Grid Margin="0,0,0,0">
                <Label x:Name="label1" Content="File Directory:" HorizontalAlignment="Left" Margin="3,5,0,0" VerticalAlignment="Top"/>
                <TextBox x:Name="txtFileDir" HorizontalAlignment="Left" Height="23" Margin="93,9,0,0" TextWrapping="Wrap" Text="D:\ExperimentsData\test" VerticalAlignment="Top" Width="302"/>
                <Button x:Name="btnDirCreate" Content="Create" HorizontalAlignment="Left" Margin="407,10,0,0" VerticalAlignment="Top" Width="58" Click="btnDirCreate_Click"/>
                <Button x:Name="btnDirDelete" Content="Delete" HorizontalAlignment="Left" Margin="474,10,0,0" VerticalAlignment="Top" Width="56" Click="btnDirDelete_Click"/>
                <Label x:Name="label2" Content="File Name:" HorizontalAlignment="Left" Margin="3,34,0,0" VerticalAlignment="Top" RenderTransformOrigin="0.225,0.56"/>
                <TextBox x:Name="txtFileName" HorizontalAlignment="Left" Height="23" Margin="92,36,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="120"/>
                <Button x:Name="btnFileSave" Content="Save" HorizontalAlignment="Left" Margin="222,38,0,0" VerticalAlignment="Top" Width="54" Click="btnFileSave_Click"/>
            </Grid>
        </GroupBox>
        <GroupBox x:Name="gbxMICROROC" Header="MICROROC Control" HorizontalAlignment="Left" Margin="258,28,0,0" VerticalAlignment="Top" Height="458" Width="358">
            <Grid  Margin="0,0,0,0" >
                <Label x:Name="lblASIC_Number" Content="ASIC Number:" HorizontalAlignment="Left" Margin="1,11,0,0" VerticalAlignment="Top"/>
                <ComboBox x:Name="cbxASIC_Number" HorizontalAlignment="Left" Margin="85,14,0,0" VerticalAlignment="Top" Width="69" RenderTransformOrigin="0.088,-0.048">
                    <ComboBox.Items>
                        <ComboBoxItem Content="1 ASIC" IsSelected="True"/>
                        <ComboBoxItem Content="2 ASICs"/>
                        <ComboBoxItem Content="3 ASICs"/>
                        <ComboBoxItem Content="4 ASICs"/>
                    </ComboBox.Items>
                </ComboBox>
                <Button x:Name="btnAcqStart" Content="AcqStart" HorizontalAlignment="Left" Margin="129,404,0,0" VerticalAlignment="Top" Width="84" Height="25" Click="btnAcqStart_Click"/>
                <Label x:Name="lblSc_or_Read" Content="SC or Read:" HorizontalAlignment="Left" Margin="169,12,0,0" VerticalAlignment="Top" Width="72" Height="23"/>
                <Button x:Name="btnSC_or_ReadReg" Content="Load Param" HorizontalAlignment="Left" Margin="231,101,0,0" VerticalAlignment="Top" Width="84" Height="24" Click="btnSC_or_ReadReg_Click"/>
                <StackPanel HorizontalAlignment="Left" Height="31" Margin="241,12,0,0" VerticalAlignment="Top" Width="68">
                    <!--RadioButton x:Name="rtnSC" Content="SC" HorizontalAlignment="Left" VerticalAlignment="Top"/-->
                    <RadioButton GroupName="SC_or_Read" Checked="SC_or_Read_Checked">SC</RadioButton>
                    <RadioButton GroupName="SC_or_Read" Checked="SC_or_Read_Checked">ReadReg</RadioButton>
                    <!--RadioButton x:Name="rtnReadReg" Content="ReadReg" HorizontalAlignment="Left" VerticalAlignment="Top"/-->
                </StackPanel>
                <Label x:Name="lblDAC0_VTH" Content="DAC0 VTH:" HorizontalAlignment="Left" Margin="17,38,0,0" VerticalAlignment="Top"/>
                <Label x:Name="lblDAC1_VTH" Content="DAC1 VTH:" HorizontalAlignment="Left" Margin="17,57,0,0" VerticalAlignment="Top"/>
                <Label x:Name="lblDAC2_VTH" Content="DAC2 VTH:" HorizontalAlignment="Left" Margin="17,79,0,0" VerticalAlignment="Top"/>
                <Label x:Name="lblHeader" Content="Header:" HorizontalAlignment="Left" Margin="34,101,0,0" VerticalAlignment="Top"/>
                <Label x:Name="lblCTest" Content="CTest:" HorizontalAlignment="Left" Margin="44,124,0,0" VerticalAlignment="Top"/>
                <TextBox x:Name="txtDAC0_VTH" HorizontalAlignment="Left" Height="20" Margin="86,40,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="68"/>
                <TextBox x:Name="txtDAC1_VTH" HorizontalAlignment="Left" Height="20" Margin="86,62,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="68"/>
                <TextBox x:Name="txtDAC2_VTH" HorizontalAlignment="Left" Height="20" Margin="86,84,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="68"/>
                <TextBox x:Name="txtHeader" HorizontalAlignment="Left" Height="20" Margin="86,106,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="68"/>
                <TextBox x:Name="txtCTest" HorizontalAlignment="Left" Height="20" Margin="86,128,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="68"/>
                <Label x:Name="lblRead_Reg" Content="ReadRegister:" HorizontalAlignment="Left" Margin="158,58,0,0" VerticalAlignment="Top"/>
                <TextBox x:Name="txtRead_reg" HorizontalAlignment="Left" Height="20" Margin="238,62,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="76"/>
                <StackPanel HorizontalAlignment="Left" Height="30" Margin="86,265,0,0" VerticalAlignment="Top" Width="69">
                    <RadioButton GroupName="PP_En_Dis" Checked="PowerPulsing_Checked">Enable</RadioButton>
                    <RadioButton GroupName="PP_En_Dis" Checked="PowerPulsing_Checked">Disable</RadioButton>
                </StackPanel>
                <StackPanel HorizontalAlignment="Left" Height="30" Margin="86,198,0,0" VerticalAlignment="Top" Width="70">
                    <RadioButton GroupName="Chn_Select" Checked="ChannelSelect_Checked">Channel1</RadioButton>
                    <RadioButton GroupName="Chn_Select" Checked="ChannelSelect_Checked">Channel2</RadioButton>
                    <!--RadioButton x:Name="rtnChannel1" Content="Channel1"/-->
                    <!--RadioButton x:Name="rtnChannel2" Content="Channel2"/-->
                </StackPanel>
                <Label x:Name="lblPower_Pulsing" Content="Powerpulsing" HorizontalAlignment="Left" Margin="4,264,0,0" VerticalAlignment="Top"/>
                <Label x:Name="lblChannel_Sel" Content="Channel select" HorizontalAlignment="Left" Margin="-1,198,0,0" VerticalAlignment="Top"/>
                <Button x:Name="btnReset_cntb" Content="Reset cntb" HorizontalAlignment="Left" Margin="159,270,0,0" VerticalAlignment="Top" Width="76" Height="24" Click="btnReset_cntb_Click"/>
                <Button x:Name="btnTRIG_EXT_EN" Content="TRIG EXT" HorizontalAlignment="Left" Margin="242,270,0,0" VerticalAlignment="Top" Width="76" Height="24" Click="btnTRIG_EXT_EN_Click"/>
                <Label x:Name="lblRAZ_External" Content="External RAZ" HorizontalAlignment="Left" Margin="7,233,0,0" VerticalAlignment="Top"/>
                <StackPanel HorizontalAlignment="Left" Height="30" Margin="86,232,0,0" VerticalAlignment="Top" Width="65">
                    <RadioButton GroupName="External_RAZ" Checked="ExternalRAZ_Checked">Enable</RadioButton>
                    <RadioButton GroupName="External_RAZ" Checked="ExternalRAZ_Checked">Disable</RadioButton>
                    <!--RadioButton x:Name="rtnExt_raz_en" Content="Enable"/-->
                    <!--RadioButton x:Name="rtnExt_raz_dis" Content="Disable"/-->
                </StackPanel>
                <ComboBox x:Name="cbxRaz_mode" HorizontalAlignment="Left" Margin="160,237,0,0" VerticalAlignment="Top" Width="74" RenderTransformOrigin="0.088,-0.048">
                    <ComboBoxItem Content="75 ns" IsSelected="True"/>
                    <ComboBoxItem Content="250 ns"/>
                    <ComboBoxItem Content="500 ns"/>
                    <ComboBoxItem Content="1000 ns"/>
                </ComboBox>
                <ComboBox x:Name="cbxTrig_Coincid" HorizontalAlignment="Left" Margin="66,368,0,0" VerticalAlignment="Top" Width="94" RenderTransformOrigin="0.088,-0.048">
                    <ComboBoxItem Content="OUT_TRIG0B" IsSelected="True"/>
                    <ComboBoxItem Content="OUT_TRIG1B"/>
                    <ComboBoxItem Content="OUT_TRIG2B"/>
                    <ComboBoxItem Content="EXT_TRIGB"/>
                </ComboBox>
                <TextBox x:Name="txtHold_delay" HorizontalAlignment="Left" Height="20" Margin="170,369,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="68"/>
                <Button x:Name="btnSet_Raz_Width" Content="SET RAZ" HorizontalAlignment="Left" Margin="242,236,0,0" VerticalAlignment="Top" Width="76" Height="24" Click="btnSet_Raz_Width_Click"/>
                <Button x:Name="btnSet_Hold" Content="SET HOLD" HorizontalAlignment="Left" Margin="248,367,0,0" VerticalAlignment="Top" Width="76" Height="24" Click="btnSet_Hold_Click"/>
                <Label x:Name="lblHold_Gen" Content="Hold Gen" HorizontalAlignment="Left" Margin="7,365,0,0" VerticalAlignment="Top"/>
                <Label x:Name="lblsw_hg" Content="sw hg:" HorizontalAlignment="Left" Margin="2,147,0,0" VerticalAlignment="Top"/>
                <Label x:Name="lblsw_lg" Content="sw lg:" HorizontalAlignment="Left" Margin="83,148,0,0" VerticalAlignment="Top"/>
                <ComboBox x:Name="cbxsw_hg" HorizontalAlignment="Left" Margin="43,151,0,0" VerticalAlignment="Top" Width="41">
                    <ComboBoxItem Content="00"/>
                    <ComboBoxItem Content="01" IsSelected="True"/>
                    <ComboBoxItem Content="10"/>
                    <ComboBoxItem Content="11"/>
                </ComboBox>
                <ComboBox x:Name="cbxsw_lg" HorizontalAlignment="Left" Margin="120,151,0,0" VerticalAlignment="Top" Width="41">
                    <ComboBoxItem Content="00"/>
                    <ComboBoxItem Content="01" IsSelected="True"/>
                    <ComboBoxItem Content="10"/>
                    <ComboBoxItem Content="11"/>
                </ComboBox>
                <Label x:Name="lblStartAcq_Time" Content="StartAcq Time(ns)" HorizontalAlignment="Left" Margin="61,335,0,0" VerticalAlignment="Top"/>
                <TextBox x:Name="txtStartAcqTime" HorizontalAlignment="Left" Height="20" Margin="170,339,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Width="68"/>
                <Button x:Name="btnSetAcqTime" Content="SET Time" HorizontalAlignment="Left" Margin="248,337,0,0" VerticalAlignment="Top" Width="76" Height="24" Click="btnSetAcqTime_Click"/>
                <Label x:Name="lblOUT_TH" Content="OUT TH:" HorizontalAlignment="Left" Margin="110,307,0,0" VerticalAlignment="Top" RenderTransformOrigin="0.806,0.942"/>
                <ComboBox x:Name="cbxOut_th" HorizontalAlignment="Left" Margin="170,309,0,0" VerticalAlignment="Top" Width="67">
                    <ComboBoxItem Content="ASIC 1" IsSelected="True"/>
                    <ComboBoxItem Content="ASIC 2"/>
                    <ComboBoxItem Content="ASIC 3"/>
                    <ComboBoxItem Content="ASIC 4"/>
                </ComboBox>
                <Button x:Name="btnOut_th_set" Content="set" HorizontalAlignment="Left" Margin="247,307,0,0" VerticalAlignment="Top" Width="72" Height="24" Click="btnOut_th_set_Click"/>
                <Label x:Name="lblOut_sh" Content="Out sh:" HorizontalAlignment="Left" Margin="174,148,0,0" VerticalAlignment="Top"/>
                <ComboBox x:Name="cbxOut_sh" HorizontalAlignment="Left" Margin="226,152,0,0" VerticalAlignment="Top" Width="77">
                    <ComboBoxItem Content="low gain" IsSelected="True"/>
                    <ComboBoxItem Content="high gain" />
                </ComboBox>
            </Grid>
        </GroupBox>
        <!--GroupBox x:Name="gbxWaveform" Header="Waveform" HorizontalAlignment="Left" Margin="260,135,0,0" VerticalAlignment="Top" Height="343" Width="557">
            <Grid  Margin="0,0,0,0">
                <Border Margin="0,1,0,42" Grid.Row="0" Background="#FF5F5A5A">
                    <d3:ChartPlotter Name="plotter" Margin="5"  Background="{StaticResource ChartPlotterBrush }">
                        <d3:ChartPlotter.VerticalAxis>
                            <d3:VerticalIntegerAxis />
                        </d3:ChartPlotter.VerticalAxis>
                        <d3:ChartPlotter.HorizontalAxis>
                            <d3:HorizontalIntegerAxis />
                        </d3:ChartPlotter.HorizontalAxis>
                    </d3:ChartPlotter>
                </Border>
                <Button x:Name="btnWaveformShow" Content="WaveShow" HorizontalAlignment="Left" Margin="15,289,0,0" VerticalAlignment="Top" Width="75" Click="btnWaveformShow_Click"/>
                <Button x:Name="btnWaveformStop" Content="WaveStop" HorizontalAlignment="Left" Margin="102,289,0,0" VerticalAlignment="Top" Width="75" Click="btnWaveformStop_Click"/>
                <Button x:Name="btnWaveformClear" Content="WaveClear" HorizontalAlignment="Left" Margin="189,289,0,0" VerticalAlignment="Top" Width="75" Click="btnWaveformClear_Click"/>
            </Grid>
        </-->
    </Grid>
</Window>

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    